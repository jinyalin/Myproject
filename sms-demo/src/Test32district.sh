#!/bin/bash
today=$(date +'%Y-%m-%d')
yesterday=$(date -d yesterday +%Y-%m-%d)
two_yesterday=$(date -d "-2 day" +%Y-%m-%d)
three_yesterday=$(date -d "-3 day" +%Y-%m-%d)
cd /hskj/sendlib/sp_send_thread/logs

read -p "Please input sp_number(split by '|';Enter list all) :" spnumber
echo "--------------移动号码状态报告-----------------"
grep -a "report from" info.log info.log.${yesterday} info.log.${two_yesterday} info.log.${three_yesterday} | egrep  "${spnumber}*"  |egrep "15212420137|13799774165|18793146120|13556321741|13471185690|14785753959|18789251506|18232100281|13526545581|18714306421|13635807094|18890786172|13943701352|15251072317|13684895609|13504188203|15174965064|18295383712|15109735374|15953448592|15903407098|18829527584|15900902194|15182277367|18302221740|18289102404|18299758630|18314112890|18258816297|18883249425|15811491455|15811195247" | awk -f ../areaMt.awk | sort -k2 |uniq -c | grep -an ""
echo ""
echo "--------------移动号码上行信息-----------------"
grep -a "deliverForm" info.log info.log.${yesterday} info.log.${two_yesterday} info.log.${three_yesterday}| egrep  "${spnumber}*" |egrep "15212420137|13799774165|18793146120|13556321741|13471185690|14785753959|18789251506|18232100281|13526545581|18714306421|13635807094|18890786172|13943701352|15251072317|13684895609|13504188203|15174965064|18295383712|15109735374|15953448592|15903407098|18829527584|15900902194|15182277367|18302221740|18289102404|18299758630|18314112890|18258816297|18883249425|15811491455|15811195247" | awk -f ../areaMo.awk | sort -k2 | uniq -c | grep -an ""
echo ""
echo "---------------联通号码状态报告----------------"
grep -a "report from" info.log info.log.${yesterday}  info.log.${two_yesterday} info.log.${three_yesterday} | egrep  "${spnumber}*" |egrep "13155194257|15595028955|13159273855|13088785100|13070239784|15577108534|15519183217|13078937814|15532476683|15516955495|15546537751|13129944842|15507493715|13009013071|13276108671|13036210948|13238827590|13154728521|15597109336|13287299496|15535127673|15596670877|13248032104|13281877095|13102250267|13228991688|15599791840|15559608329|13136171343|15683012720|15652087738" | awk -f ../areaMt.awk | sort -k2 | uniq -c | grep -an ""
echo ""
echo "---------------联通号码上行信息----------------"
grep -a "deliverForm" info.log info.log.${yesterday}  info.log.${two_yesterday} info.log.${three_yesterday}| egrep  "${spnumber}*" |egrep "13155194257|15595028955|13159273855|13088785100|13070239784|15577108534|15519183217|13078937814|15532476683|15516955495|15546537751|13129944842|15507493715|13009013071|13276108671|13036210948|13238827590|13154728521|15597109336|13287299496|15535127673|15596670877|13248032104|13281877095|13102250267|13228991688|15599791840|15559608329|13136171343|15683012720|15652087738"| awk -f ../areaMo.awk | sort -k2 | uniq -c | grep -an ""
echo ""
echo "---------------电信号码状态报告----------------"
grep -a "report from" info.log info.log.${yesterday}  info.log.${two_yesterday} info.log.${three_yesterday} | egrep  "${spnumber}*" |egrep "18130333931|15396279537|18919888245|15360010682|18977367981|18188519013|18189785294|15350889904|15324928626|13304650141|15347062832|18142631110|18004374978|15370662639|13340006053|13324265097|15384846540|15378964069|18097445998|13361286423|18135159965|15319495325|13386061227|18080941787|13312159562|18089994017|18963800986|13388710951|18957804379|15310777148|15321906869" | awk -f ../areaMt.awk | sort -k2 | uniq -c | grep -an ""
echo ""
echo "---------------电信号码上行信息----------------"
grep -a "deliverForm" info.log info.log.${yesterday}  info.log.${two_yesterday} info.log.${three_yesterday}| egrep  "${spnumber}*" |egrep "18130333931|15396279537|18919888245|15360010682|18977367981|18188519013|18189785294|15350889904|15324928626|13304650141|15347062832|18142631110|18004374978|15370662639|13340006053|13324265097|15384846540|15378964069|18097445998|13361286423|18135159965|15319495325|13386061227|18080941787|13312159562|18089994017|18963800986|13388710951|18957804379|15310777148|15321906869"| awk -f ../areaMo.awk | sort -k2 | uniq -c | grep -an ""
